!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory():"function"==typeof define&&define.amd?define(factory):global.Rainbow=factory()}(this,function(){"use strict";function isNode$1(){return"undefined"!=typeof module&&"object"==typeof module.exports}function getLanguageForBlock(block){var language=block.getAttribute("data-language")||block.parentNode.getAttribute("data-language");if(!language){var pattern=/\blang(?:uage)?-(\w+)/,match=block.className.match(pattern)||block.parentNode.className.match(pattern);match&&(language=match[1])}return language?language.toLowerCase():null}function hasCompleteOverlap(start1,end1,start2,end2){return(start2!==start1||end2!==end1)&&(start2<=start1&&end1<=end2)}function htmlEntities(code){return code.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/&(?![\w\#]+;)/g,"&amp;")}function indexOfGroup(match,groupNumber){for(var index=0,i=1;i<groupNumber;++i)match[i]&&(index+=match[i].length);return index}function intersects(start1,end1,start2,end2){return start1<=start2&&start2<end1||start1<end2&&end2<end1}function keys(object){var locations=[];for(var location in object)object.hasOwnProperty(location)&&locations.push(location);return locations.sort(function(a,b){return b-a})}function replaceAtPosition(position,replace,replaceWith,code){var subString=code.substr(position);return code.substr(0,position)+subString.replace(replace,replaceWith)}var Prism=function Prism(options){var currentLanguage,replacements={},replacementPositions={};function _wrapCodeInSpan(name,code){var className=name.replace(/\./g," "),globalClass=options.globalClass;return globalClass&&(className+=" "+globalClass),'<span class="'+className+'">'+code+"</span>"}function _processPattern(pattern,code,offset){void 0===offset&&(offset=0);var regex=pattern.pattern;if(!regex)return!1;var shouldStop=!regex.global,match=(regex=function(regex){var flags="";return regex.ignoreCase&&(flags+="i"),regex.multiline&&(flags+="m"),new RegExp(regex.source,flags)}(regex)).exec(code);if(!match)return!1;!pattern.name&&pattern.matches&&"string"==typeof pattern.matches[0]&&(pattern.name=pattern.matches[0],delete pattern.matches[0]);var replacement=match[0],startPos=match.index+offset,endPos=match[0].length+startPos;if(startPos===endPos)return!1;if(function(start,end){for(var key in replacementPositions)if(hasCompleteOverlap(key=parseInt(key,10),replacementPositions[key],start,end)&&(delete replacementPositions[key],delete replacements[key]),intersects(key,replacementPositions[key],start,end))return!0;return!1}(startPos,endPos))return{remaining:code.substr(endPos-offset),offset:endPos};function _processGroup(groupKey){var block=match[groupKey];if(block){var group=pattern.matches[groupKey],language=group.language,groupToProcess=group.name&&group.matches?group.matches:group,_getReplacement=function(passedBlock,replaceBlock,matchName){replacement=replaceAtPosition(indexOfGroup(match,groupKey),passedBlock,matchName?_wrapCodeInSpan(matchName,replaceBlock):replaceBlock,replacement)};if("string"!=typeof group){var prism=new Prism(options);language?_getReplacement(block,prism.refract(block,language)):_getReplacement(block,prism.refract(block,currentLanguage,groupToProcess.length?groupToProcess:[groupToProcess]),group.matches?group.name:0)}else _getReplacement(block,block,group)}}for(var repl,i=0,list=keys(pattern.matches);i<list.length;i+=1){_processGroup(list[i])}return repl=replacement,pattern.name&&(repl=_wrapCodeInSpan(pattern.name,repl)),replacements[startPos]={replace:match[0],with:repl},replacementPositions[startPos]=endPos,!shouldStop&&{remaining:code.substr(endPos-offset),offset:endPos}}function _processCodeWithPatterns(code,patterns){for(var i=0,list=patterns;i<list.length;i+=1)for(var pattern=list[i],result=_processPattern(pattern,code);result;)result=_processPattern(pattern,result.remaining,result.offset);return function(code){for(var i=0,list=keys(replacements);i<list.length;i+=1){var position=list[i],replacement=replacements[position];code=replaceAtPosition(position,replacement.replace,replacement.with,code)}return code}(code)}this.refract=function(code,language,patterns){return currentLanguage=language,patterns=patterns||function(language){for(var patterns=options.patterns[language]||[];options.inheritenceMap[language];)language=options.inheritenceMap[language],patterns=patterns.concat(options.patterns[language]||[]);return patterns}(language),_processCodeWithPatterns(htmlEntities(code),patterns)}};function rainbowWorker(e){var message=e.data,result=new Prism(message.options).refract(message.code,message.lang);function _reply(){self.postMessage({id:message.id,lang:message.lang,result:result})}if(message.isNode)return _reply(),void self.close();setTimeout(function(){_reply()},1e3*message.options.delay)}var onHighlightCallback,patterns={},inheritenceMap={},aliases={},Rainbow={},id=0,isNode=isNode$1(),isWorker="undefined"==typeof document&&"undefined"!=typeof self,cachedWorker=null;function _getWorker(){return(isNode||null===cachedWorker)&&(cachedWorker=function(fn,Prism){if(isNode$1())return global.Worker=require("webworker-threads").Worker,new Worker(__filename);var prismFunction=Prism.toString(),code=keys.toString();code+=htmlEntities.toString(),code+=hasCompleteOverlap.toString(),code+=intersects.toString(),code+=replaceAtPosition.toString(),code+=indexOfGroup.toString();var fullString=(code+=prismFunction)+"\tthis.onmessage="+fn.toString(),blob=new Blob([fullString],{type:"text/javascript"});return new Worker((window.URL||window.webkitURL).createObjectURL(blob))}(rainbowWorker,Prism)),cachedWorker}function _messageWorker(message,callback){var worker=_getWorker();worker.addEventListener("message",function _listen(e){e.data.id===message.id&&(callback(e.data),worker.removeEventListener("message",_listen))}),worker.postMessage(message)}function _generateHandler(element,waitingOn,callback){return function(data){element.innerHTML=data.result,element.classList.remove("loading"),element.classList.add("rainbow-show"),"PRE"===element.parentNode.tagName&&(element.parentNode.classList.remove("loading"),element.parentNode.classList.add("rainbow-show")),onHighlightCallback&&onHighlightCallback(element,data.lang),0==--waitingOn.c&&callback()}}function _getWorkerData(code,lang){var options={};return"object"==typeof lang&&(lang=(options=lang).language),lang=aliases[lang]||lang,{id:id++,code:code,lang:lang,options:function(options){return{patterns:patterns,inheritenceMap:inheritenceMap,aliases:aliases,globalClass:options.globalClass,delay:isNaN(options.delay)?0:options.delay}}(options),isNode:isNode}}function _addPreloader(preBlock){var preloader=document.createElement("div");preloader.className="preloader";for(var i=0;i<7;i++)preloader.appendChild(document.createElement("div"));preBlock.appendChild(preloader)}function _highlight(node,callback){callback=callback||function(){};for(var preBlocks=(node=node&&"function"==typeof node.getElementsByTagName?node:document).getElementsByTagName("pre"),codeBlocks=node.getElementsByTagName("code"),finalPreBlocks=[],finalCodeBlocks=[],i=0,list=preBlocks;i<list.length;i+=1){var preBlock=list[i];_addPreloader(preBlock),preBlock.getElementsByTagName("code").length?preBlock.getAttribute("data-trimmed")||(preBlock.setAttribute("data-trimmed",!0),preBlock.innerHTML=preBlock.innerHTML.trim()):finalPreBlocks.push(preBlock)}for(var i$1=0,list$1=codeBlocks;i$1<list$1.length;i$1+=1){var codeBlock=list$1[i$1];finalCodeBlocks.push(codeBlock)}!function(codeBlocks,callback){for(var waitingOn={c:0},i=0,list=codeBlocks;i<list.length;i+=1){var block=list[i],language=getLanguageForBlock(block);if(!block.classList.contains("rainbow")&&language){block.classList.add("loading"),block.classList.add("rainbow"),"PRE"===block.parentNode.tagName&&block.parentNode.classList.add("loading");var globalClass=block.getAttribute("data-global-class"),delay=parseInt(block.getAttribute("data-delay"),10);++waitingOn.c,_messageWorker(_getWorkerData(block.innerHTML,{language:language,globalClass:globalClass,delay:delay}),_generateHandler(block,waitingOn,callback))}}0===waitingOn.c&&callback()}(finalCodeBlocks.concat(finalPreBlocks),callback)}return Rainbow={extend:function(language,languagePatterns,inherits){inheritenceMap[language]||(inheritenceMap[language]=inherits),patterns[language]=languagePatterns.concat(patterns[language]||[])},remove:function(language){delete inheritenceMap[language],delete patterns[language]},onHighlight:function(callback){onHighlightCallback=callback},addAlias:function(alias,originalLanguage){aliases[alias]=originalLanguage},color:function(){for(var cb,args=[],len=arguments.length;len--;)args[len]=arguments[len];"string"!=typeof args[0]?"function"!=typeof args[0]?_highlight(args[0],args[1]):_highlight(0,args[0]):_messageWorker(_getWorkerData(args[0],args[1]),(cb=args[2],function(data){cb&&cb(data.result,data.lang)}))}},isNode&&(Rainbow.colorSync=function(code,lang){var workerData=_getWorkerData(code,lang);return new Prism(workerData.options).refract(workerData.code,workerData.lang)}),isNode||isWorker||document.addEventListener("DOMContentLoaded",function(event){Rainbow.defer||Rainbow.color(event)},!1),isWorker&&(self.onmessage=rainbowWorker),Rainbow}),
/*! rainbow-nsis | MIT License | https://github.com/idleberg/rainbow-nsis */
Rainbow.extend("nsis",[{name:"comment.line",pattern:/(\#|;)[\s\S]*?$/gm},{name:"comment.block",pattern:/\/\*[\s\S]*?\*\/|(\/\/|\#)[\s\S]*?$/gm},{name:"constant.numeric",pattern:/\b(\d+(\.\d+)?(e(\+|\-)?\d+)?(f|d)?|0x[\da-f]+)\b/gi},{name:"constant.language",pattern:/\b((un\.)?components|(un\.)?custom|(un\.)?directory|(un\.)?instfiles|(un\.)?license|uninstConfirm|admin|all|auto|both|bottom|bzip2|current|false|force|hide|highest|ifdiff|ifnewer|lastused|leave|left|listonly|lzma|nevershow|none|normal|notset|off|on|right|show|silent|silentlog|textonly|top|true|try|user|Win10|Win7|Win8|WinVista|zlib)(?=\(|\b)/g},{name:"constant.option",pattern:/\b(ARCHIVE|FILE_ATTRIBUTE_ARCHIVE|FILE_ATTRIBUTE_HIDDEN|FILE_ATTRIBUTE_NORMAL|FILE_ATTRIBUTE_OFFLINE|FILE_ATTRIBUTE_READONLY|FILE_ATTRIBUTE_SYSTEM|FILE_ATTRIBUTE_TEMPORARY|HIDDEN|HKCC|HKCR(32|64)?|HKCU(32|64)?|HKDD|HKEY_CLASSES_ROOT|HKEY_CURRENT_CONFIG|HKEY_CURRENT_USER|HKEY_DYN_DATA|HKEY_LOCAL_MACHINE|HKEY_PERFORMANCE_DATA|HKEY_USERS|HKLM(32|64)?|HKPD|HKU|IDABORT|IDCANCEL|IDD_DIR|IDD_INST|IDD_INSTFILES|IDD_LICENSE|IDD_SELCOM|IDD_UNINST|IDD_VERIFY|IDIGNORE|IDNO|IDOK|IDRETRY|IDYES|MB_ABORTRETRYIGNORE|MB_DEFBUTTON1|MB_DEFBUTTON2|MB_DEFBUTTON3|MB_DEFBUTTON4|MB_ICONEXCLAMATION|MB_ICONINFORMATION|MB_ICONQUESTION|MB_ICONSTOP|MB_OK|MB_OKCANCEL|MB_RETRYCANCEL|MB_RIGHT|MB_RTLREADING|MB_SETFOREGROUND|MB_TOPMOST|MB_USERICON|MB_YESNO|MB_YESNOCANCEL|NORMAL|OFFLINE|READONLY|SHCTX|SHELL_CONTEXT|SW_HIDE|SW_SHOWDEFAULT|SW_SHOWMAXIMIZED|SW_SHOWMINIMIZED|SW_SHOWNORMAL|SYSTEM|TEMPORARY)(?=\(|\b)/g},{matches:{1:"variable.dollar-sign",2:"variable"},pattern:/(\$)(\w+)\b/g},{name:"variable.definition",pattern:/\${[\w]+}/g},{name:"variable.language",pattern:/\$\([\w]+\)/g},{name:"support.compiler",pattern:/\!(include|addincludedir|addplugindir|appendfile|cd|delfile|echo|error|execute|packhdr|pragma|finalize|getdllversion|gettlbversion|system|tempfile|warning|verbose|define|undef|insertmacro|macro|macroend|makensis|searchparse|searchreplace)(?=\(|\b)/g},{name:"entity.compiler.block",pattern:/(\!)(ifdef|ifndef|if|ifmacrodef|ifmacrondef|else|endif)(?=\(|\b)/g},{name:"keyword.command",pattern:/\b(Abort|AddBrandingImage|AddSize|AllowRootDirInstall|AllowSkipFiles|AutoCloseWindow|BGFont|BGGradient|BrandingText|BringToFront|Call|CallInstDLL|Caption|ChangeUI|CheckBitmap|ClearErrors|CompletedText|ComponentText|CopyFiles|CRCCheck|CreateDirectory|CreateFont|CreateShortCut|Delete|DeleteINISec|DeleteINIStr|DeleteRegKey|DeleteRegValue|DetailPrint|DetailsButtonText|DirText|DirVar|DirVerify|EnableWindow|EnumRegKey|EnumRegValue|Exch|Exec|ExecShell|ExecShellWait|ExecWait|ExpandEnvStrings|File|FileBufSize|FileClose|FileErrorText|FileOpen|FileRead|FileReadByte|FileReadUTF16LE|FileReadWord|FileWriteUTF16LE|FileSeek|FileWrite|FileWriteByte|FileWriteWord|FindClose|FindFirst|FindNext|FindWindow|FlushINI|GetCurInstType|GetCurrentAddress|GetDlgItem|GetDLLVersion|GetDLLVersionLocal|GetErrorLevel|GetFileTime|GetFileTimeLocal|GetFullPathName|GetFunctionAddress|GetInstDirError|GetLabelAddress|GetTempFileName|Goto|HideWindow|Icon|IfAbort|IfErrors|IfFileExists|IfRebootFlag|IfSilent|InitPluginsDir|InstallButtonText|InstallColors|InstallDir|InstallDirRegKey|InstProgressFlags|InstType|InstTypeGetText|InstTypeSetText|Int64Cmp|Int64CmpU|Int64Fmt|IntCmp|IntCmpU|IntFmt|IntOp|IntPtrCmp|IntPtrCmpU|IntPtrOp|IsWindow|LangString|LicenseBkColor|LicenseData|LicenseForceSelection|LicenseLangString|LicenseText|LoadLanguageFile|LockWindow|LogSet|LogText|ManifestDPIAware|ManifestSupportedOS|MessageBox|MiscButtonText|Name|Nop|OutFile|Page|PageCallbacks|PEDllCharacteristics|PESubsysVer|Pop|Push|Quit|ReadEnvStr|ReadINIStr|ReadRegDWORD|ReadRegStr|Reboot|RegDLL|Rename|RequestExecutionLevel|ReserveFile|Return|RMDir|SearchPath|SectionGetFlags|SectionGetInstTypes|SectionGetSize|SectionGetText|SectionIn|SectionSetFlags|SectionSetInstTypes|SectionSetSize|SectionSetText|SendMessage|SetAutoClose|SetBrandingImage|SetCompress|SetCompressor|SetCompressorDictSize|SetCtlColors|SetCurInstType|SetDatablockOptimize|SetDateSave|SetDetailsPrint|SetDetailsView|SetErrorLevel|SetErrors|SetFileAttributes|SetFont|SetOutPath|SetOverwrite|SetRebootFlag|SetRegView|SetShellVarContext|SetSilent|ShowInstDetails|ShowUninstDetails|ShowWindow|SilentInstall|SilentUnInstall|Sleep|SpaceTexts|StrCmp|StrCmpS|StrCpy|StrLen|SubCaption|Unicode|UninstallButtonText|UninstallCaption|UninstallIcon|UninstallSubCaption|UninstallText|UninstPage|UnRegDLL|Var|VIAddVersionKey|VIFileVersion|VIProductVersion|WindowIcon|WriteINIStr|WriteRegBin|WriteRegDWORD|WriteRegExpandStr|WriteRegMultiStr|WriteRegNone|WriteRegStr|WriteUninstaller|XPStyle)(?=\(|\b)/g},{name:"keyword.plugin",pattern:/\b(\w+\:\:\w+)(?=\(|\b)/g},{name:"entity.command.block",pattern:/\b(Function|FunctionEnd|Section|SectionEnd|SectionGroup|SectionGroupEnd|SubSection|SubSectionEnd|PageEx|PageExEnd)(?=\(|\b)/g},{name:"string",matches:{1:"string.open",2:[{name:"string.interpolation",matches:{1:"string.open",2:{language:"nsis"},3:"string.close"},pattern:/(\#\{)(.*?)(\})/g}],3:"string.close"},pattern:/("|`|')(.*?[^\\\1])?(\1)/g}],!0);